(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Iab2:function(t,e,a){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";function e(t,e,a){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){c(n.response,e,a)},n.onerror=function(){console.error("could not download file")},n.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function n(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(a)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,o,c){var l=i.URL||i.webkitURL,b=document.createElement("a");b.download=o=o||t.name||"download",b.rel="noopener","string"==typeof t?(b.href=t,b.origin===location.origin?n(b):a(b.href)?e(t,o,c):n(b,b.target="_blank")):(b.href=l.createObjectURL(t),setTimeout(function(){l.revokeObjectURL(b.href)},4e4),setTimeout(function(){n(b)},0))}:"msSaveOrOpenBlob"in navigator?function(t,i,o){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),i);else if(a(t))e(t,i,o);else{var c=document.createElement("a");c.href=t,c.target="_blank",setTimeout(function(){n(c)})}}:function(t,a,n,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,n);var l="application/octet-stream"===t.type,b=/constructor/i.test(i.HTMLElement)||i.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||l&&b||o)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=r?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=t:location=t,c=null},d.readAsDataURL(t)}else{var s=i.URL||i.webkitURL,u=s.createObjectURL(t);c?c.location=u:location.href=u,c=null,setTimeout(function(){s.revokeObjectURL(u)},4e4)}});i.saveAs=c.saveAs=c,t.exports=c})?n.apply(e,[]):n)||(t.exports=i)},jkDv:function(t,e,a){"use strict";a.r(e),a.d(e,"AdminModule",function(){return I});var n=a("tk/3"),i=a("3Pt+"),o=a("rIor"),c=a("ofXK"),l=a("fXoL"),b=a("PLN7"),r=a("tyNb"),d=a("/t3+"),s=a("bTqV"),u=a("NFeN"),p=a("XhcP"),m=a("MutI"),g=a("FKr1");let h=(()=>{class t{constructor(t,e){this.api=t,this.router=e,this.mode="side",this.menu=[{name:"Dashboard",icon:"dashboard",url:"/admin/dashboard"},{group:"Menu Group",children:[{name:"Image Gallery",icon:"images",url:"/admin/gallery"}]}]}ngOnInit(){this.checklogin()}checklogin(){this.api.get("bookswithauth/status").subscribe(t=>{},t=>{this.router.navigate(["/login"])})}logout(){confirm("Keluar aplikasi?")&&(localStorage.removeItem("appToken"),window.location.reload())}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(b.a),l.Nb(r.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-admin"]],decls:31,vars:8,consts:[["color","primary",1,"admin-header"],["mat-icon-button","",3,"click"],[1,"uk-width-expand"],["mat-mini-fab","","color","warn",3,"click"],[1,"admin-container"],["mode","side","opened","",1,"sidenav-left",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],["routerLink","/admin/dashboard"],["matListIcon",""],["matLine",""],["routerLink","/admin/product"],["mode","side",1,"example-sidenav",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],[2,"padding","20px","background-color","#A7FFEB"]],template:function(t,e){if(1&t){const t=l.Ub();l.Rb(0),l.Tb(1,"mat-toolbar",0),l.Tb(2,"button",1),l.ac("click",function(){return l.sc(t),l.oc(15).toggle()}),l.Tb(3,"mat-icon"),l.zc(4,"menu"),l.Sb(),l.Sb(),l.Tb(5,"span"),l.zc(6,"Deval App Angular"),l.Sb(),l.Ob(7,"div",2),l.Tb(8,"small"),l.zc(9,"admin"),l.Sb(),l.Tb(10,"button",3),l.ac("click",function(){return e.logout()}),l.Tb(11,"mat-icon"),l.zc(12,"logout"),l.Sb(),l.Sb(),l.Sb(),l.Tb(13,"mat-sidenav-container",4),l.Tb(14,"mat-sidenav",5,6),l.Tb(16,"mat-nav-list"),l.Tb(17,"mat-list-item",7),l.Tb(18,"mat-icon",8),l.zc(19,"space_dashboard"),l.Sb(),l.Tb(20,"h3",9),l.zc(21,"Dashboard"),l.Sb(),l.Sb(),l.Tb(22,"mat-list-item",10),l.Tb(23,"mat-icon",8),l.zc(24,"shopping_bag"),l.Sb(),l.Tb(25,"h3",9),l.zc(26,"Products"),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Ob(27,"mat-sidenav",11,6),l.Tb(29,"mat-sidenav-content",12),l.Ob(30,"router-outlet"),l.Sb(),l.Sb(),l.Qb()}2&t&&(l.Cb(14),l.jc("position","start")("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0),l.Cb(13),l.jc("position","end")("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0))},directives:[d.a,s.b,u.a,p.b,p.a,m.d,m.b,r.b,m.a,g.j,p.c,r.d],styles:[".admin-container[_ngcontent-%COMP%]{position:absolute;top:60px;bottom:0;left:0;right:0}.admin-sidenav[_ngcontent-%COMP%]{width:350px}.admin-sidenav[_ngcontent-%COMP%], .sidenav-left[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.sidenav-left[_ngcontent-%COMP%]{width:250px}"]}),t})();var f=a("ADG0"),T=a("Wp6s");let S=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Hb({type:t,selectors:[["app-dashboard"]],decls:24,vars:0,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-card-image","","src","assets/masih_belajar.jpg","alt","Masih Belajar"],[1,"example-button-row"],["mat-raised-button","","color","accent","href","https://www.tokopedia.com/masih-belajar/buku-masih-belajar-by-iman-usman-open-pre-order-limited-stock","target","_blank"]],template:function(t,e){1&t&&(l.Tb(0,"mat-card",0),l.Tb(1,"mat-card-header"),l.Ob(2,"div",1),l.Tb(3,"mat-card-title"),l.zc(4,"Buku Masih Belajar"),l.Sb(),l.Tb(5,"mat-card-subtitle"),l.zc(6,"Gramedia"),l.Sb(),l.Sb(),l.Ob(7,"img",2),l.Tb(8,"mat-card-content"),l.Tb(9,"p"),l.zc(10,"Kondisi: Baru"),l.Sb(),l.Tb(11,"p"),l.zc(12,"Berat: 600 Gram"),l.Sb(),l.Tb(13,"p"),l.zc(14,"Waktu Preorder: 55 Hari"),l.Sb(),l.Tb(15,"p"),l.zc(16,"Kategori: Buku Kesuksesan"),l.Sb(),l.Tb(17,"p"),l.zc(18,"Etalase: Semua Etalase"),l.Sb(),l.Tb(19,"p"),l.zc(20,"Harga: Rp. 95.000"),l.Sb(),l.Sb(),l.Tb(21,"mat-card-actions",3),l.Tb(22,"a",4),l.zc(23,"Order Now"),l.Sb(),l.Sb(),l.Sb())},directives:[T.a,T.e,T.c,T.i,T.h,T.f,T.d,T.b,s.a],styles:['.example-card[_ngcontent-%COMP%]{max-width:300px}.example-header-image[_ngcontent-%COMP%]{background-image:src("assets/masih_belajar.jpg");background-size:cover}section[_ngcontent-%COMP%]{display:table}.example-label[_ngcontent-%COMP%]{display:table-cell;font-size:14px;margin-left:8px;min-width:120px}.example-button-row[_ngcontent-%COMP%]{display:table-cell;width:490px}.example-button-row[_ngcontent-%COMP%]   .mat-button-base[_ngcontent-%COMP%]{margin:8px 8px 8px 0}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}']}),t})();var k=a("0IaG"),v=a("kmnG"),w=a("qFsG");let x=(()=>{class t{constructor(t,e,a){this.dialogRef=t,this.data=e,this.api=a}ngOnInit(){}saveData(){this.loading=!0,null==this.data.id?this.api.post("/bookswithauth",this.data).subscribe(t=>{this.dialogRef.close(t),this.loading=!1},t=>{this.loading=!1,alert("Tidak dapat menyimpan data, Coba Lagi")}):this.api.put("/bookswithauth///"+this.data.id,this.data).subscribe(t=>{this.dialogRef.close(t),this.loading=!1},t=>{this.loading=!1,alert("Tidak dapat memperbaharui data, Coba Lagi")})}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(k.g),l.Nb(k.a),l.Nb(b.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-product-detail"]],decls:32,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(l.Tb(0,"h3",0),l.zc(1," Detail Produk\n"),l.Sb(),l.Tb(2,"div",1),l.Tb(3,"mat-form-field",2),l.Tb(4,"mat-label"),l.zc(5,"Judul"),l.Sb(),l.Tb(6,"input",3),l.ac("ngModelChange",function(t){return e.data.title=t}),l.Sb(),l.Sb(),l.Tb(7,"mat-form-field",2),l.Tb(8,"mat-label"),l.zc(9,"Penulis"),l.Sb(),l.Tb(10,"input",3),l.ac("ngModelChange",function(t){return e.data.author=t}),l.Sb(),l.Sb(),l.Tb(11,"mat-form-field",2),l.Tb(12,"mat-label"),l.zc(13,"Penerbit"),l.Sb(),l.Tb(14,"input",3),l.ac("ngModelChange",function(t){return e.data.publisher=t}),l.Sb(),l.Sb(),l.Tb(15,"mat-form-field",2),l.Tb(16,"mat-label"),l.zc(17,"Tahun Terbit"),l.Sb(),l.Tb(18,"input",3),l.ac("ngModelChange",function(t){return e.data.year=t}),l.Sb(),l.Sb(),l.Tb(19,"mat-form-field",2),l.Tb(20,"mat-label"),l.zc(21,"ISBN"),l.Sb(),l.Tb(22,"input",3),l.ac("ngModelChange",function(t){return e.data.isbn=t}),l.Sb(),l.Sb(),l.Tb(23,"mat-form-field",2),l.Tb(24,"mat-label"),l.zc(25,"Harga"),l.Sb(),l.Tb(26,"input",4),l.ac("ngModelChange",function(t){return e.data.price=t}),l.Sb(),l.Sb(),l.Sb(),l.Tb(27,"div",5),l.Tb(28,"button",6),l.zc(29,"Batal"),l.Sb(),l.Tb(30,"button",7),l.ac("click",function(){return e.saveData()}),l.zc(31),l.Sb(),l.Sb()),2&t&&(l.Cb(6),l.jc("ngModel",e.data.title),l.Cb(4),l.jc("ngModel",e.data.author),l.Cb(4),l.jc("ngModel",e.data.publisher),l.Cb(4),l.jc("ngModel",e.data.year),l.Cb(4),l.jc("ngModel",e.data.isbn),l.Cb(4),l.jc("ngModel",e.data.price),l.Cb(4),l.jc("disabled",e.loading),l.Cb(1),l.Ac(e.loading?"Menyimpan..":"Simpan"))},directives:[k.h,k.e,v.c,v.f,w.b,i.c,i.k,i.m,i.n,k.c,s.b,k.d],styles:[""]}),t})(),y=(()=>{class t{constructor(t,e,a){this.api=t,this.dialogRef=e,this.data=a,this.fileName=""}ngOnInit(){}onFileChange(t){t.target.files.length>0&&(this.selectedFile=t.target.files[0],"image/png"!=this.selectedFile.type&&alert("File harus PNG"),console.log(this.selectedFile))}uploadFile(){let t=new FormData;t.append("file",this.selectedFile),this.loadingUpload=!0,this.api.upload(t).subscribe(t=>{this.updateProduct(t),console.log(t)},t=>{this.loadingUpload=!1,alert("Gagal mengunggah file")})}updateProduct(t){1==t.status?(this.loadingUpload=!1,alert("File berhasil diunggah")):alert(t.massage)}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(b.a),l.Nb(k.g),l.Nb(k.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-file-uploader"]],decls:13,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"uk-flex","uk-flex-middle","uk-flex-center",2,"height","100px","outline","2px dashed #ccc","margin","10px",3,"click"],["type","file","id","file",2,"display","none",3,"change"],["fileInput",""],["mat-dialog-action","","align","right"],["mat-button","","mat-dialog-close","",2,"margin-right","5px"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(t,e){if(1&t){const t=l.Ub();l.Tb(0,"h1",0),l.zc(1,"Unggah File"),l.Sb(),l.Tb(2,"div",1),l.Tb(3,"div",2),l.ac("click",function(){return l.sc(t),l.oc(7).click()}),l.Tb(4,"span"),l.zc(5),l.Sb(),l.Sb(),l.Tb(6,"input",3,4),l.ac("change",function(t){return e.onFileChange(t)}),l.Sb(),l.Sb(),l.Tb(8,"div",5),l.Tb(9,"button",6),l.zc(10,"Batal"),l.Sb(),l.Tb(11,"button",7),l.ac("click",function(){return e.uploadFile()}),l.zc(12),l.Sb(),l.Sb()}2&t&&(l.Cb(5),l.Ac(e.selectedFile?e.selectedFile.name:"Pilih File"),l.Cb(6),l.jc("disabled",e.loadingUpload),l.Cb(1),l.Ac(e.loadingUpload?"UpLoading....":"UpLoad"))},directives:[k.h,k.e,s.b,k.d],styles:[""]}),t})();var C=a("Iab2"),z=a("Xa2L");function M(t,e){1&t&&(l.Tb(0,"div",2),l.Ob(1,"mat-spinner",3),l.Sb())}function j(t,e){if(1&t){const t=l.Ub();l.Tb(0,"button",14),l.ac("click",function(){l.sc(t);const e=l.ec().$implicit;return l.ec(2).download(e)}),l.Tb(1,"mat-icon"),l.zc(2,"file_download"),l.Sb(),l.Sb()}}function O(t,e){if(1&t){const t=l.Ub();l.Tb(0,"tr"),l.Tb(1,"td"),l.yc(2,j,3,0,"button",10),l.Sb(),l.Tb(3,"td"),l.zc(4),l.Sb(),l.Tb(5,"td"),l.zc(6),l.Sb(),l.Tb(7,"td"),l.zc(8),l.Sb(),l.Tb(9,"td"),l.zc(10),l.Sb(),l.Tb(11,"td"),l.zc(12),l.Sb(),l.Tb(13,"td"),l.zc(14),l.Sb(),l.Tb(15,"td"),l.zc(16),l.Sb(),l.Tb(17,"td",11),l.Tb(18,"button",12),l.ac("click",function(){l.sc(t);const a=e.$implicit;return l.ec(2).upload(a)}),l.zc(19,"upload"),l.Sb(),l.Tb(20,"button",12),l.ac("click",function(){l.sc(t);const a=e.$implicit,n=e.index;return l.ec(2).productDetail(a,n)}),l.zc(21,"Edit"),l.Sb(),l.Tb(22,"button",13),l.ac("click",function(){l.sc(t);const a=e.$implicit,n=e.index;return l.ec(2).deleteProduct(a.id,n)}),l.zc(23),l.Sb(),l.Sb(),l.Sb()}if(2&t){const t=e.$implicit,a=e.index,n=l.ec(2);l.Cb(2),l.jc("ngIf",""!=t.url),l.Cb(2),l.Ac(a+1),l.Cb(2),l.Ac(t.title),l.Cb(2),l.Ac(t.author),l.Cb(2),l.Ac(t.publisher),l.Cb(2),l.Ac(t.isbn),l.Cb(2),l.Ac(t.year),l.Cb(2),l.Ac(t.price),l.Cb(6),l.jc("disabled",n.loadingDelete[a]),l.Cb(1),l.Ac(n.loadingDelete[a]?"Menghapus..":"Delete")}}function P(t,e){if(1&t){const t=l.Ub();l.Tb(0,"mat-card"),l.Tb(1,"mat-card-header"),l.Tb(2,"mat-card-title"),l.zc(3),l.Sb(),l.Sb(),l.Tb(4,"mat-card-content"),l.Tb(5,"div",4),l.Ob(6,"span",5),l.Tb(7,"button",6),l.ac("click",function(){return l.sc(t),l.ec().productDetail({},-1)}),l.zc(8,"Tambah Produk"),l.Sb(),l.Sb(),l.Tb(9,"table",7),l.Tb(10,"thead"),l.Ob(11,"th"),l.Tb(12,"th"),l.zc(13,"No"),l.Sb(),l.Tb(14,"th"),l.zc(15,"Judul"),l.Sb(),l.Tb(16,"th"),l.zc(17,"Penulis"),l.Sb(),l.Tb(18,"th"),l.zc(19,"Penerbit"),l.Sb(),l.Tb(20,"th"),l.zc(21,"ISBN"),l.Sb(),l.Tb(22,"th"),l.zc(23,"Tahun Terbit"),l.Sb(),l.Tb(24,"th"),l.zc(25,"Harga"),l.Sb(),l.Tb(26,"th",8),l.zc(27,"Update #"),l.Sb(),l.Sb(),l.Tb(28,"tbody"),l.yc(29,O,24,10,"tr",9),l.Sb(),l.Sb(),l.Sb(),l.Sb()}if(2&t){const t=l.ec();l.Cb(3),l.Ac(t.title),l.Cb(26),l.jc("ngForOf",t.books)}}const A=[{path:"",component:h,children:[{path:"dashboard",component:S},{path:"product",component:(()=>{class t{constructor(t,e){this.dialog=t,this.api=e,this.book={},this.books=[],this.loadingDelete={}}ngOnInit(){this.title="Product",this.book={title:"Belajar Angular4+ untuk Pemula",author:"Farid Suryanto",publisher:"Sunhouse Digital",year:"2020",isbn:"88123123112",price:"75000"},this.getBooks()}getBooks(){this.loading=!0,this.api.get("bookswithauth").subscribe(t=>{this.books=t,this.loading=!1},t=>{this.loading=!1,alert("Ada masalah saat pengambilan data. Coba lagi!")})}productDetail(t,e){this.dialog.open(x,{width:"400px",data:t}).afterClosed().subscribe(a=>{a&&(-1==e?this.books.push(a):this.books[e]=t)})}deleteProduct(t,e){confirm("Delete item?")&&(this.loadingDelete[e]=!0,this.api.delete("/bookswithauth///"+this.books[e].id).subscribe(t=>{this.books.splice(e,1),this.loadingDelete[e]=!1},t=>{alert("Tidak dapat menghapus data, coba lagi"),this.loadingDelete[e]=!1}))}upload(t){this.dialog.open(y,{height:"300px",width:"400px",data:t}).afterClosed().subscribe(t=>{})}download(t){C.saveAs("http://api.sunhouse.co.id/bookstore/"+t.url)}}return t.\u0275fac=function(e){return new(e||t)(l.Nb(k.b),l.Nb(b.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-product"]],decls:2,vars:2,consts:[["style","height: 300px;","class","uk-flex uk-flex-center uk-flex-middle",4,"ngIf"],[4,"ngIf"],[1,"uk-flex","uk-flex-center","uk-flex-middle",2,"height","300px"],["diameter","30"],[1,"uk-flex"],[1,"uk-width-expand"],["mat-flat-button","","color","primary",3,"click"],[1,"uk-table","uk-table-middle","uk-table-divider"],[2,"text-align","center"],[4,"ngFor","ngForOf"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],[2,"text-align","right"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"disabled","click"],["mat-icon-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(l.yc(0,M,2,0,"div",0),l.yc(1,P,30,2,"mat-card",1)),2&t&&(l.jc("ngIf",e.loading),l.Cb(1),l.jc("ngIf",!e.loading))},directives:[c.k,z.b,T.a,T.e,T.i,T.d,s.b,c.j,u.a],styles:[""]}),t})()},{path:"",redirectTo:"/admin/dashboard",pathMatch:"full"}]}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({imports:[[c.c,r.c.forChild(A),f.a,o.a,i.g,n.b]]}),t})()}}]);